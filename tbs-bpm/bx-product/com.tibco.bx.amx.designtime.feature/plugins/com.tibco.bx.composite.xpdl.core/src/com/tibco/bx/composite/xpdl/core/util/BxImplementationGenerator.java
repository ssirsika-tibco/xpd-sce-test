package com.tibco.bx.composite.xpdl.core.util;

import org.eclipse.core.resources.IFile;
import org.eclipse.emf.common.util.URI;

import com.tibco.amf.sca.componenttype.implementation.ImplementationTypeProvider;
import com.tibco.amf.sca.model.extensionpoints.Implementation;
import com.tibco.bx.amx.model.service.BxServiceImplementation;
import com.tibco.bx.composite.xpdl.core.it.N2PEImplementationTypeProvider;

public class BxImplementationGenerator {

    /**

     * Returns an implementation model for the xpdl file, using the passed bpel files
     * 
     * @param implementationFile
     * @param bpelFiles corresponding to the implementationFile (xpdl file). These bpel files generated by the BPEL builder for the xpdl file.
     * @param uri 
     * @return
     */

    public static Implementation createImplementation(IFile implementationFile, final IFile[] bpelFiles, URI uri) {
    	ImplementationTypeProvider itProvider = new N2PEImplementationTypeProvider() {
			@Override
			protected IFile[] getBPELFiles(String path, URI compositeLocation,
					BxServiceImplementation bxImplementation) {
				return bpelFiles;
			}
		};
		return itProvider.createImplementation(implementationFile.getFullPath().toString(), uri);

    }

}
