<?xml version="1.0" encoding="UTF-8"?>
<calendar:Calendar xmlns:calendar="http://www.tibco.com/calendar" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.tibco.com/calendar ../../model/calendar.xsd ">
  <Name>England</Name>
  <Locale>en_GB_ENG</Locale>
  <DefaultWorkingSchedule>
    <WorkingDay>
      <DayOfWeek>2</DayOfWeek>
    </WorkingDay>
    <WorkingDay>
      <DayOfWeek>3</DayOfWeek>
    </WorkingDay>
    <WorkingDay>
      <DayOfWeek>4</DayOfWeek>
    </WorkingDay>
    <WorkingDay>
      <DayOfWeek>5</DayOfWeek>
    </WorkingDay>
    <WorkingDay>
      <DayOfWeek>6</DayOfWeek>
    </WorkingDay>
    <DefaultWorkingTime>
      <TimeSlot>
        <StartTime>09:00:00</StartTime>
        <EndTime>12:30:00</EndTime>
      </TimeSlot>
      <TimeSlot>
        <StartTime>13:30:00</StartTime>
        <EndTime>17:30:00</EndTime>
      </TimeSlot>
    </DefaultWorkingTime>
  </DefaultWorkingSchedule>
  <PublicHolidays>
  	<CalculatedHoliday>
  		<Name>New Years Day</Name>
  		<Script>
  			var base = new java.util.GregorianCalendar(year, 0, 1);
  			if (base.get(java.util.Calendar.DAY_OF_WEEK) == java.util.Calendar.SATURDAY) {
  				base.add(java.util.Calendar.DATE, 2);
  			} else if (base.get(java.util.Calendar.DAY_OF_WEEK) == java.util.Calendar.SUNDAY) {
  				base.add(java.util.Calendar.DATE, 1);
  			}
  			base.getTime();
  		</Script>
  	</CalculatedHoliday>
  	<CalculatedHoliday>
  		<Name>Good Friday</Name>
  		<Script>
	        var a = year % 19;
	        var b = Math.floor(year / 100);
	        var c = year % 100;
	        var d = Math.floor(b / 4);
	        var e = b % 4;
	        var f = Math.floor((b + 8) / 25);
	        var g = Math.floor((b - f + 1) / 3);
	        var h = (19 * a + b - d - g + 15) % 30;
	        var i = Math.floor(c / 4);
	        var k = c % 4;
	        var l = (32 + 2 * e + 2 * i - h - k) % 7;
	        var m = Math.floor((a + 11 * h + 22 * l) / 451);
	        month = Math.floor(((h + l - 7 * m + 114) / 31)) - 1;
	        p = (h + l - 7 * m + 114) % 31;
	        date = p + 1;

  			var base = new java.util.GregorianCalendar(year, month, date);
  			base.add(java.util.Calendar.DATE, -2);
  			base.getTime();
  		</Script>
  	</CalculatedHoliday>
  	<CalculatedHoliday>
  		<Name>Easter Monday</Name>
  		<Script>
	        var a = year % 19;
	        var b = Math.floor(year / 100);
	        var c = year % 100;
	        var d = Math.floor(b / 4);
	        var e = b % 4;
	        var f = Math.floor((b + 8) / 25);
	        var g = Math.floor((b - f + 1) / 3);
	        var h = (19 * a + b - d - g + 15) % 30;
	        var i = Math.floor(c / 4);
	        var k = c % 4;
	        var l = (32 + 2 * e + 2 * i - h - k) % 7;
	        var m = Math.floor((a + 11 * h + 22 * l) / 451);
	        month = Math.floor(((h + l - 7 * m + 114) / 31)) - 1;
	        p = (h + l - 7 * m + 114) % 31;
	        date = p + 1;

  			var base = new java.util.GregorianCalendar(year, month, date);
  			base.add(java.util.Calendar.DATE, 1);
  			base.getTime();
  		</Script>
  	</CalculatedHoliday>
  	<CalculatedHoliday>
  		<Name>Early May Bank Holiday</Name>
  		<Script>
  			var base = new java.util.GregorianCalendar(year, 4, 1);
  			var day = base.get(java.util.Calendar.DAY_OF_WEEK)
  			if (day == java.util.Calendar.TUESDAY) {
  				base.add(java.util.Calendar.DATE, 6);
  			} else if (day == java.util.Calendar.WEDNESDAY) {
  				base.add(java.util.Calendar.DATE, 5);
  			} else if (day == java.util.Calendar.THURSDAY) {
  				base.add(java.util.Calendar.DATE, 4);
  			} else if (day == java.util.Calendar.FRIDAY) {
  				base.add(java.util.Calendar.DATE, 3);
  			} else if (day == java.util.Calendar.SATURDAY) {
  				base.add(java.util.Calendar.DATE, 2);
  			} else if (day == java.util.Calendar.SUNDAY) {
  				base.add(java.util.Calendar.DATE, 1);
  			}
  			base.getTime();
  		</Script>
  	</CalculatedHoliday>
  	<CalculatedHoliday>
  		<Name>Spring Bank Holiday</Name>
  		<Script>
  			var base = new java.util.GregorianCalendar(year, 4, 31);
  			var day = base.get(java.util.Calendar.DAY_OF_WEEK)
  			if (day == java.util.Calendar.TUESDAY) {
  				base.add(java.util.Calendar.DATE, -1);
  			} else if (day == java.util.Calendar.WEDNESDAY) {
  				base.add(java.util.Calendar.DATE, -2);
  			} else if (day == java.util.Calendar.THURSDAY) {
  				base.add(java.util.Calendar.DATE, -3);
  			} else if (day == java.util.Calendar.FRIDAY) {
  				base.add(java.util.Calendar.DATE, -4);
  			} else if (day == java.util.Calendar.SATURDAY) {
  				base.add(java.util.Calendar.DATE, -5);
  			} else if (day == java.util.Calendar.SUNDAY) {
  				base.add(java.util.Calendar.DATE, -6);
  			}
  			base.getTime();
  		</Script>
  	</CalculatedHoliday>
  	<CalculatedHoliday>
  		<Name>Summer Bank Holiday</Name>
  		<Script>
  			var base = new java.util.GregorianCalendar(year, 7, 31);
  			var day = base.get(java.util.Calendar.DAY_OF_WEEK)
  			if (day == java.util.Calendar.TUESDAY) {
  				base.add(java.util.Calendar.DATE, -1);
  			} else if (day == java.util.Calendar.WEDNESDAY) {
  				base.add(java.util.Calendar.DATE, -2);
  			} else if (day == java.util.Calendar.THURSDAY) {
  				base.add(java.util.Calendar.DATE, -3);
  			} else if (day == java.util.Calendar.FRIDAY) {
  				base.add(java.util.Calendar.DATE, -4);
  			} else if (day == java.util.Calendar.SATURDAY) {
  				base.add(java.util.Calendar.DATE, -5);
  			} else if (day == java.util.Calendar.SUNDAY) {
  				base.add(java.util.Calendar.DATE, -6);
  			}
  			base.getTime();
  		</Script>
  	</CalculatedHoliday>
  	<CalculatedHoliday>
  		<Name>Chirstmas Day</Name>
  		<Script>
  			var base = new java.util.GregorianCalendar(year, 11, 25);
  			if (base.get(java.util.Calendar.DAY_OF_WEEK) == java.util.Calendar.SATURDAY) {
  				base.add(java.util.Calendar.DATE, 2);
  			} else if (base.get(java.util.Calendar.DAY_OF_WEEK) == java.util.Calendar.SUNDAY) {
  				base.add(java.util.Calendar.DATE, 1);
  			}
  			base.getTime();
  		</Script>
  	</CalculatedHoliday>
  	<CalculatedHoliday>
  		<Name>Boxing Day</Name>
  		<Script>
  			var base = new java.util.GregorianCalendar(year, 11, 26);
  			if (base.get(java.util.Calendar.DAY_OF_WEEK) == java.util.Calendar.SUNDAY) {
  				base.add(java.util.Calendar.DATE, 2);
  			} else if (base.get(java.util.Calendar.DAY_OF_WEEK) == java.util.Calendar.MONDAY) {
  				base.add(java.util.Calendar.DATE, 1);
  			}
  			base.getTime();
  		</Script>
  	</CalculatedHoliday>
  </PublicHolidays>
</calendar:Calendar>
