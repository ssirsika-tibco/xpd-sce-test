/*
 * Copyright (c) TIBCO Software Inc 2007. All rights reserved.
 */
package com.tibco.xpd.bom.modeler.diagram.edit.policies;

import java.util.Iterator;
import java.util.LinkedList;
import java.util.List;

import org.eclipse.gmf.runtime.notation.View;

import com.tibco.xpd.bom.modeler.diagram.part.UMLDiagramUpdater;
import com.tibco.xpd.bom.modeler.diagram.part.UMLNodeDescriptor;

/**
 * 
 * This class is NOT autogenerated.
 * 
 * It needed to be implemented when we removed the generation of nested edit
 * parts inside packages. To all intents and purposes the behaviour of a package
 * is the same as the canvas package i.e. with regards to the elements that can
 * be created inside it. Therefore the canonical behaviour of the package is
 * virtually identical to the canvas package. If any sub-package behaviour is
 * required in future then we can implement it here and override the
 * canavaspackage canonical behaviour.
 * 
 * 
 * @author rgreen
 * 
 */
public class PackageCanonicalEditPolicy extends
        CanvasPackageCanonicalEditPolicy {

    /*
     * (non-Javadoc)
     * 
     * @seecom.tibco.xpd.bom.modeler.diagram.edit.policies.
     * CanvasPackageCanonicalEditPolicy#getSemanticChildrenList()
     */
    @Override
    protected List getSemanticChildrenList() {
        View viewObject = (View) getHost().getModel();
        List result = new LinkedList();
        for (Iterator it = UMLDiagramUpdater.getPackage_1001SemanticChildren(
                viewObject).iterator(); it.hasNext();) {
            result.add(((UMLNodeDescriptor) it.next()).getModelElement());
        }
        return result;
    }

    @Override
    protected void refreshSemantic() {
        // Don't do anything here.
        // The refreshSemantic will either be performed by the Canvas or the
        // PackageCompartment.
    }

}
