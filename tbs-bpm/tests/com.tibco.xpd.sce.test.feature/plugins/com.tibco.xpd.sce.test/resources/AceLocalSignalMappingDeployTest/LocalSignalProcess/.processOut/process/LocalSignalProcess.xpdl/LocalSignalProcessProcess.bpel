<?xml version="1.0" encoding="UTF-8"?>
<bpws:process exitOnStandardFault="no" name="LocalSignalProcessProcess"
    suppressJoinFailure="yes" tibex:bxVersion="11.0.0"
    tibex:dataFieldDescriptorClass="com.example.localsignalprocess.LocalSignalProcess.LocalSignalProcessProcess"
    tibex:dataFieldDescriptorScript="process-js/LocalSignalProcess/LocalSignalProcessProcess/LocalSignalProcessProcess.js"
    tibex:explicitCompensation="yes"
    tibex:xpdlId="_QKiX8LOkEemyOeCi73RnLA"
    xmlns:bpws="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
    xmlns:tibex="http://www.tibco.com/bpel/2007/extensions" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <tibex:VariableDescriptor type="PersistentBatching">
        <task name="Submittothrowsignal">
            <startingVariables>
                <variable>TextArrayField</variable>
                <variable>ComplexArrayField</variable>
                <variable>ComplexField</variable>
                <variable>TextField</variable>
            </startingVariables>
        </task>
        <task name="Usertaskwithattachedsignal">
            <startingVariables>
                <variable>TextArrayField</variable>
                <variable>ComplexArrayField</variable>
                <variable>ComplexField</variable>
                <variable>TextField</variable>
            </startingVariables>
        </task>
    </tibex:VariableDescriptor>
    <bpws:documentation>*** Generated by TIBCO Business Studio.</bpws:documentation>
    <bpws:variables>
        <bpws:variable name="TextField"
            tibex:xpdlId="_8jQZ4LOkEemyOeCi73RnLA" type="xsd:string"/>
        <bpws:variable name="TextArrayField" tibex:array="yes"
            tibex:xpdlId="_95DvMLOkEemyOeCi73RnLA" type="xsd:string"/>
        <bpws:variable name="ComplexField"
            tibex:class="com.example.localsignaldata.Class1" tibex:xpdlId="_ACI7kLOlEemyOeCi73RnLA"/>
        <bpws:variable name="ComplexArrayField" tibex:array="yes"
            tibex:class="com.example.localsignaldata.Class1" tibex:xpdlId="_CEwTkLOlEemyOeCi73RnLA"/>
    </bpws:variables>
    <bpws:extensions>
        <bpws:extension mustUnderstand="yes" namespace="http://www.tibco.com/bpel/2007/extensions"/>
    </bpws:extensions>
    <bpws:eventHandlers/>
    <bpws:flow name="_BX_flow_k1QeALRpEemTPpnCykNv-g">
        <bpws:links>
            <bpws:link name="StartEvent to _ZMNMwbOkEemyOeCi73RnLA" tibex:xpdlId="_ZMNz0LOkEemyOeCi73RnLA"/>
            <bpws:link name="Usertaskwithattachedsignal to EndEvent" tibex:xpdlId="_RXQCtLOkEemyOeCi73RnLA"/>
            <bpws:link
                name="_ZMNMwbOkEemyOeCi73RnLA to Usertaskwithattachedsignal" tibex:xpdlId="_WRxb9rOkEemyOeCi73RnLA"/>
            <bpws:link
                name="_ZMNMwbOkEemyOeCi73RnLA to Submittothrowsignal" tibex:xpdlId="_eNjmwLOkEemyOeCi73RnLA"/>
            <bpws:link name="Submittothrowsignal to ThrowSignal1" tibex:xpdlId="_uJL9ALOkEemyOeCi73RnLA"/>
            <bpws:link name="ThrowSignal1 to ThrowSignal2" tibex:xpdlId="_a5o-87OkEemyOeCi73RnLA"/>
        </bpws:links>
        <bpws:extensionActivity>
            <tibex:receiveEvent createInstance="yes" eventTimeout="0"
                name="StartEvent" tibex:type="startEvent"
                tibex:xpdlId="_RXQCsrOkEemyOeCi73RnLA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:sources>
                    <bpws:source linkName="StartEvent to _ZMNMwbOkEemyOeCi73RnLA"/>
                </bpws:sources>
                <tibex:eventSource>
                    <tibex:startEvent eventType="Default"/>
                </tibex:eventSource>
            </tibex:receiveEvent>
        </bpws:extensionActivity>
        <bpws:empty name="EndEvent" tibex:type="endEvent" tibex:xpdlId="_RXQCs7OkEemyOeCi73RnLA">
            <bpws:targets>
                <bpws:target linkName="Usertaskwithattachedsignal to EndEvent"/>
            </bpws:targets>
        </bpws:empty>
        <bpws:extensionActivity>
            <tibex:extActivity name="Usertaskwithattachedsignal"
                tibex:type="userTask"
                tibex:xpdlId="_WRxb87OkEemyOeCi73RnLA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:targets>
                    <bpws:target linkName="_ZMNMwbOkEemyOeCi73RnLA to Usertaskwithattachedsignal"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="Usertaskwithattachedsignal to EndEvent"/>
                </bpws:sources>
                <model:UserTaskDataModelType
                    distributionStrategy="OFFER" userTaskPriority="50"
                    workModelID="WM__WRxb87OkEemyOeCi73RnLA"
                    workModelVersionRange="[1.0.0.qualifier,1.0.0.qualifier]"
                    xmi:version="2.0"
                    xmlns:model="http://model.ut.n2.tibco.com" xmlns:xmi="http://www.omg.org/XMI">
                    <userTaskParticipants>
                        <userTaskParticipant
                            entity="ORGANIZATIONAL_QUERY" rqlQuery="resource(name=&quot;tibco-admin&quot;)"/>
                    </userTaskParticipants>
                    <userTaskParameters>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="TextField"/>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="TextArrayField"/>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="ComplexField"/>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="ComplexArrayField"/>
                    </userTaskParameters>
                    <userTaskGroupMemberships/>
                </model:UserTaskDataModelType>
                <tibex:signalUpdateEvent event="Signal1">
                    <tibex:signalVariables>
                        <bpws:variables>
                            <bpws:variable name="TextArrayField"
                                tibex:array="yes" type="xsd:string"/>
                            <bpws:variable name="ComplexArrayField"
                                tibex:array="yes" tibex:class="com.example.localsignaldata.Class1"/>
                            <bpws:variable name="ComplexField" tibex:class="com.example.localsignaldata.Class1"/>
                            <bpws:variable name="TextField" type="xsd:string"/>
                        </bpws:variables>
                    </tibex:signalVariables>
                    <tibex:updateVariables>
                        <bpws:variables>
                            <bpws:variable name="TextField" type="xsd:string"/>
                            <bpws:variable name="TextArrayField"
                                tibex:array="yes" type="xsd:string"/>
                            <bpws:variable name="ComplexField" tibex:class="com.example.localsignaldata.Class1"/>
                            <bpws:variable name="ComplexArrayField"
                                tibex:array="yes" tibex:class="com.example.localsignaldata.Class1"/>
                        </bpws:variables>
                    </tibex:updateVariables>
                    <tibex:mappingScript expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[// Map from 'ComplexArrayField' to 'ComplexArrayField'

// Overwrite list: ComplexArrayField
data.ComplexArrayField.length = 0;

if (SIGNAL_ComplexArrayField != null) {

    for (var i1 = 0; i1 < SIGNAL_ComplexArrayField.length; i1++) { 
        var $sVi1 = SIGNAL_ComplexArrayField[i1];
        
        data.ComplexArrayField.push($sVi1);
    }
}

// Create target 'ComplexField' if it doesn't exist.
if (data.ComplexField == null) {
    data.ComplexField = factory.com_example_localsignaldata.createClass1();
}

// Map from 'ComplexField.class2.attribute1' to 'ComplexField.attribute1'
if (SIGNAL_ComplexField != null && SIGNAL_ComplexField.class2 != null) {
    data.ComplexField.attribute1 = SIGNAL_ComplexField.class2.attribute1;
} else {
    data.ComplexField.attribute1 = null;
}

// Map from 'TextField' to 'ComplexField.attribute2'
data.ComplexField.attribute2 = SIGNAL_TextField;

// Create target 'ComplexField.class2' if it doesn't exist.
if (data.ComplexField.class2 == null) {
    data.ComplexField.class2 = factory.com_example_localsignaldata.createClass2();
}

// Map from 'ComplexField.attribute1' to 'ComplexField.class2.attribute1'
if (SIGNAL_ComplexField != null) {
    data.ComplexField.class2.attribute1 = SIGNAL_ComplexField.attribute1;
} else {
    data.ComplexField.class2.attribute1 = null;
}

// Map from 'ComplexField.attribute2' to 'ComplexField.class2.attribute2'
if (SIGNAL_ComplexField != null) {
    data.ComplexField.class2.attribute2 = SIGNAL_ComplexField.attribute2;
} else {
    data.ComplexField.class2.attribute2 = null;
}

// Map from 'TextArrayField' to 'TextArrayField'

// Overwrite list: TextArrayField
data.TextArrayField.length = 0;

if (SIGNAL_TextArrayField != null) {

    for (var i2 = 0; i2 < SIGNAL_TextArrayField.length; i2++) { 
        var $sVi2 = SIGNAL_TextArrayField[i2];
        
        data.TextArrayField.push($sVi2);
    }
}

// Map from 'ComplexField.class2.attribute2' to 'TextField'
if (SIGNAL_ComplexField != null && SIGNAL_ComplexField.class2 != null) {
    data.TextField = SIGNAL_ComplexField.class2.attribute2;
} else {
    data.TextField = null;
}


]]></tibex:mappingScript>
                </tibex:signalUpdateEvent>
                <tibex:signalUpdateEvent event="Signal2">
                    <tibex:signalVariables>
                        <bpws:variables>
                            <bpws:variable name="TextArrayField"
                                tibex:array="yes" type="xsd:string"/>
                            <bpws:variable name="ComplexArrayField"
                                tibex:array="yes" tibex:class="com.example.localsignaldata.Class1"/>
                            <bpws:variable name="ComplexField" tibex:class="com.example.localsignaldata.Class1"/>
                            <bpws:variable name="TextField" type="xsd:string"/>
                        </bpws:variables>
                    </tibex:signalVariables>
                    <tibex:updateVariables>
                        <bpws:variables>
                            <bpws:variable name="TextArrayField"
                                tibex:array="yes" type="xsd:string"/>
                            <bpws:variable name="ComplexArrayField"
                                tibex:array="yes" tibex:class="com.example.localsignaldata.Class1"/>
                        </bpws:variables>
                    </tibex:updateVariables>
                    <tibex:mappingScript expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[// Map from 'ComplexArrayField' to 'ComplexArrayField'

// Overwrite list: ComplexArrayField
data.ComplexArrayField.length = 0;

if (SIGNAL_ComplexArrayField != null) {

    for (var i1 = 0; i1 < SIGNAL_ComplexArrayField.length; i1++) { 
        var $sVi1 = SIGNAL_ComplexArrayField[i1];
        
        data.ComplexArrayField.push($sVi1);
    }
}

// Map from 'TextArrayField' to 'TextArrayField'

// Overwrite list: TextArrayField
data.TextArrayField.length = 0;

if (SIGNAL_TextArrayField != null) {

    for (var i2 = 0; i2 < SIGNAL_TextArrayField.length; i2++) { 
        var $sVi2 = SIGNAL_TextArrayField[i2];
        
        data.TextArrayField.push($sVi2);
    }
}


]]></tibex:mappingScript>
                </tibex:signalUpdateEvent>
            </tibex:extActivity>
        </bpws:extensionActivity>
        <bpws:empty name="_BX_gateway__ZMNMwbOkEemyOeCi73RnLA"
            tibex:type="parallelGateway" tibex:xpdlId="_ZMNMwbOkEemyOeCi73RnLA">
            <bpws:targets>
                <bpws:target linkName="StartEvent to _ZMNMwbOkEemyOeCi73RnLA"/>
            </bpws:targets>
            <bpws:sources>
                <bpws:source linkName="_ZMNMwbOkEemyOeCi73RnLA to Usertaskwithattachedsignal"/>
                <bpws:source linkName="_ZMNMwbOkEemyOeCi73RnLA to Submittothrowsignal"/>
            </bpws:sources>
        </bpws:empty>
        <bpws:extensionActivity>
            <tibex:extActivity name="ThrowSignal2"
                tibex:type="signalEndEvent"
                tibex:xpdlId="_a5o-8rOkEemyOeCi73RnLA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:targets>
                    <bpws:target linkName="ThrowSignal1 to ThrowSignal2"/>
                </bpws:targets>
                <tibex:signal event="Signal2">
                    <tibex:variables>
                        <tibex:variable>TextArrayField</tibex:variable>
                        <tibex:variable>ComplexArrayField</tibex:variable>
                        <tibex:variable>ComplexField</tibex:variable>
                        <tibex:variable>TextField</tibex:variable>
                    </tibex:variables>
                </tibex:signal>
            </tibex:extActivity>
        </bpws:extensionActivity>
        <bpws:extensionActivity>
            <tibex:extActivity name="Submittothrowsignal"
                tibex:type="userTask"
                tibex:xpdlId="_eNiYo7OkEemyOeCi73RnLA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:targets>
                    <bpws:target linkName="_ZMNMwbOkEemyOeCi73RnLA to Submittothrowsignal"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="Submittothrowsignal to ThrowSignal1"/>
                </bpws:sources>
                <model:UserTaskDataModelType
                    distributionStrategy="OFFER" userTaskPriority="50"
                    workModelID="WM__eNiYo7OkEemyOeCi73RnLA"
                    workModelVersionRange="[1.0.0.qualifier,1.0.0.qualifier]"
                    xmi:version="2.0"
                    xmlns:model="http://model.ut.n2.tibco.com" xmlns:xmi="http://www.omg.org/XMI">
                    <userTaskParticipants>
                        <userTaskParticipant
                            entity="ORGANIZATIONAL_QUERY" rqlQuery="resource(name=&quot;tibco-admin&quot;)"/>
                    </userTaskParticipants>
                    <userTaskParameters>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="TextField"/>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="TextArrayField"/>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="ComplexField"/>
                        <userTaskParameter mandatory="false"
                            mode="INOUT" name="ComplexArrayField"/>
                    </userTaskParameters>
                    <userTaskGroupMemberships/>
                </model:UserTaskDataModelType>
            </tibex:extActivity>
        </bpws:extensionActivity>
        <bpws:extensionActivity>
            <tibex:extActivity name="ThrowSignal1"
                tibex:type="throwSignalIntermediateEvent"
                tibex:xpdlId="_uJLV8bOkEemyOeCi73RnLA" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:targets>
                    <bpws:target linkName="Submittothrowsignal to ThrowSignal1"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="ThrowSignal1 to ThrowSignal2"/>
                </bpws:sources>
                <tibex:signal event="Signal1">
                    <tibex:variables>
                        <tibex:variable>TextArrayField</tibex:variable>
                        <tibex:variable>ComplexArrayField</tibex:variable>
                        <tibex:variable>ComplexField</tibex:variable>
                        <tibex:variable>TextField</tibex:variable>
                    </tibex:variables>
                </tibex:signal>
            </tibex:extActivity>
        </bpws:extensionActivity>
    </bpws:flow>
</bpws:process>
