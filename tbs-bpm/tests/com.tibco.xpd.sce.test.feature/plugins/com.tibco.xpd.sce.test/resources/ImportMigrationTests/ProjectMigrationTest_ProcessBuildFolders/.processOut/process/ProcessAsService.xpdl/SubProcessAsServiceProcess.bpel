<?xml version="1.0" encoding="UTF-8"?>
<bpws:process exitOnStandardFault="no" name="SubProcessAsServiceProcess"
    suppressJoinFailure="yes" tibex:bxVersion="1.16.0"
    tibex:explicitCompensation="yes"
    tibex:xpdlId="_VLp0gRCEEeON57gSdlnC5A"
    xmlns:bpws="http://docs.oasis-open.org/wsbpel/2.0/process/executable"
    xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore"
    xmlns:ns="http://www.tibco.com/bs3.0/_VLp0gBCEEeON57gSdlnC5A"
    xmlns:ns0="http://www.tibco.com/bs3.0/_VLp0gBCEEeON57gSdlnC5A"
    xmlns:tibex="http://www.tibco.com/bpel/2007/extensions"
    xmlns:tns1="http://example.com/dataclass"
    xmlns:ttns="http://example.com/dataclass"
    xmlns:wsdl="http://schemas.xmlsoap.org/wsdl/" xmlns:xsd="http://www.w3.org/2001/XMLSchema">
    <tibex:VariableDescriptor type="PersistentBatching">
        <task name="ScriptTask">
            <startingVariables>
                <variable>Parameter</variable>
            </startingVariables>
        </task>
        <task name="_BX_assign_2">
            <startingVariables>
                <variable>Parameter</variable>
            </startingVariables>
        </task>
    </tibex:VariableDescriptor>
    <bpws:documentation>*** Generated by TIBCO Business Studio.</bpws:documentation>
    <bpws:import importType="http://schemas.xmlsoap.org/wsdl/"
        location="ProcessAsService.wsdl" namespace="http://www.tibco.com/bs3.0/_VLp0gBCEEeON57gSdlnC5A"/>
    <bpws:partnerLinks>
        <bpws:partnerLink name="SubProcessAsServiceProcess"
            partnerLinkType="ns0:SubProcessAsServiceProcess_PLT" partnerRole="SubProcessAsServiceProcessProvider"/>
    </bpws:partnerLinks>
    <bpws:variables>
        <bpws:variable name="Parameter"
            tibex:class="com.example.dataclass.DataClass"
            tibex:parameter="inout" tibex:xpdlId="_b9q64BCEEeON57gSdlnC5A"/>
    </bpws:variables>
    <bpws:extensions>
        <bpws:extension mustUnderstand="yes" namespace="http://www.tibco.com/bpel/2007/extensions"/>
    </bpws:extensions>
    <bpws:eventHandlers/>
    <bpws:flow name="_BX_flow_pnzP4Fe3EemFgfYvz9T_3w">
        <bpws:links>
            <bpws:link name="StartSubprocessAsService to ScriptTask" tibex:xpdlId="_jvuh8BCEEeON57gSdlnC5A"/>
            <bpws:link name="ScriptTask to _ZV3LKBCEEeON57gSdlnC5A" tibex:xpdlId="_ZV3LKRCEEeON57gSdlnC5A"/>
        </bpws:links>
        <bpws:scope name="StartSubprocessAsService"
            tibex:type="messageStartEvent" tibex:xpdlId="_ZV3LJxCEEeON57gSdlnC5A">
            <bpws:sources>
                <bpws:source linkName="StartSubprocessAsService to ScriptTask"/>
            </bpws:sources>
            <bpws:variables>
                <bpws:variable
                    messageType="ns0:SubProcessAsServiceProcess_StartSubprocessAsService_INPUT" name="v_916a9fe1"/>
            </bpws:variables>
            <bpws:sequence name="_BX_sequence">
                <bpws:receive createInstance="yes" name="_BX_receive"
                    operation="StartSubprocessAsService"
                    partnerLink="SubProcessAsServiceProcess"
                    portType="ns0:SubProcessAsServiceProcess" variable="v_916a9fe1"/>
                <bpws:assign name="_BX_assign" validate="no">
                    <bpws:copy tibex:objectName="DataClass"
                        tibex:objectNamespace="http://example.com/dataclass" tibex:transform="XmlToObject">
                        <bpws:from part="Parameter" variable="v_916a9fe1"/>
                        <bpws:to variable="Parameter"/>
                    </bpws:copy>
                </bpws:assign>
            </bpws:sequence>
        </bpws:scope>
        <bpws:scope name="ReplyToStartSubprocessAsService"
            tibex:migrationAllowed="yes" tibex:type="messageEndEvent" tibex:xpdlId="_ZV3LKBCEEeON57gSdlnC5A">
            <bpws:targets>
                <bpws:target linkName="ScriptTask to _ZV3LKBCEEeON57gSdlnC5A"/>
            </bpws:targets>
            <bpws:variables>
                <bpws:variable
                    messageType="ns0:SubProcessAsServiceProcess_StartSubprocessAsService_OUTPUT" name="v_a68ad3aa"/>
            </bpws:variables>
            <bpws:sequence name="_BX_sequence_2">
                <bpws:assign name="_BX_assign_2" validate="no">
                    <bpws:copy tibex:transform="ObjectToXml">
                        <bpws:from expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[ScriptUtil.copy(Parameter)]]></bpws:from>
                        <bpws:to part="Parameter" variable="v_a68ad3aa"/>
                    </bpws:copy>
                </bpws:assign>
                <bpws:reply name="_BX_reply"
                    operation="StartSubprocessAsService"
                    partnerLink="SubProcessAsServiceProcess"
                    portType="ns0:SubProcessAsServiceProcess" variable="v_a68ad3aa"/>
            </bpws:sequence>
        </bpws:scope>
        <bpws:extensionActivity>
            <tibex:extActivity name="ScriptTask"
                tibex:migrationAllowed="yes" tibex:type="scriptTask"
                tibex:xpdlId="_jvsswRCEEeON57gSdlnC5A" xmlns:tibex="http://www.tibco.com/bpel/2007/extensions">
                <bpws:targets>
                    <bpws:target linkName="StartSubprocessAsService to ScriptTask"/>
                </bpws:targets>
                <bpws:sources>
                    <bpws:source linkName="ScriptTask to _ZV3LKBCEEeON57gSdlnC5A"/>
                </bpws:sources>
                <tibex:script expressionLanguage="urn:tibco:wsbpel:2.0:sublang:javascript"><![CDATA[Parameter.text += " - Done SubProc As Service!";
Parameter.integer += 1;
]]></tibex:script>
            </tibex:extActivity>
        </bpws:extensionActivity>
    </bpws:flow>
</bpws:process>
